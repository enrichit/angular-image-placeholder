angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("placeholderSpinner",["$compile","$http","$templateCache",function(e,t,a){"use strict";return{scope:{loadClass:"@psLoadClass",completeClass:"@psCompleteClass",templateString:"@psTemplateString",templateUrl:"@psTemplateUrl"},link:function(n,l){var i=n.loadClass||"ps-load",r=n.completeClass||"ps-complete";l.addClass(i),n.templateString?l.parent().append(e(n.templateString)(n)):n.templateUrl&&t.get(n.templateUrl,{cache:a}).success(function(t){l.parent().append(e(t)(n))}),l.on("load",function(){l.addClass(r)})}}}]),angular.module("enrichit.angular-image-utils").directive("placeholderSizes",["$window",function(e){"use strict";function t(e,t,a){var n=t,l=a,i=e[0].parentElement;i&&i.offsetWidth<t&&(n=i.offsetWidth,l=i.offsetWidth/t*a),e.attr("width",n),e.attr("height",l)}var a=[];return angular.element(e).on("resize",function(){a.forEach(function(e){e instanceof Function&&e()})}),{scope:{x:"@psWidth",y:"@psHeight"},link:function(e,n){var l=parseInt(e.x),i=parseInt(e.y);t(n,l,i),a.push(function(){t(n,l,i)});var r=a.length-1;n.on("load",function(){n.removeAttr("width"),n.removeAttr("height"),a[r]=null})}}}]);