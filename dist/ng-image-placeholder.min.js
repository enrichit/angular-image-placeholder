angular.module("enrichit.ng-image-utils",[]),angular.module("enrichit.ng-image-utils").directive("placeholderSpinner",["$compile","$http","$templateCache",function(e,t,n){"use strict";return{scope:{loadClass:"@psLoadClass",completeClass:"@psCompleteClass",templateString:"@psTemplateString",templateUrl:"@psTemplateUrl"},link:function(a,l){var i=a.loadClass||"ps-load",s=a.completeClass||"ps-complete";l.addClass(i),a.templateString?l.parent().append(e(a.templateString)(a)):a.templateUrl&&t.get(a.templateUrl,{cache:n}).success(function(t){l.parent().append(e(t)(a))}),l.on("load",function(){l.addClass(s)})}}}]),angular.module("enrichit.ng-image-utils").directive("placeholderSizes",["$window",function(e){"use strict";function t(e,t,n){var a=t,l=n,i=e[0].parentElement;i&&i.offsetWidth<t&&(a=i.offsetWidth,l=i.offsetWidth/t*n),e.attr("width",a),e.attr("height",l)}var n=[];return angular.element(e).on("resize",function(){n.forEach(function(e){e instanceof Function&&e()})}),{scope:{x:"@psWidth",y:"@psHeight"},link:function(e,a){var l=parseInt(e.x),i=parseInt(e.y);t(a,l,i),n.push(function(){t(a,l,i)});var s=n.length-1;a.on("load",function(){a.removeAttr("width"),a.removeAttr("height"),n[s]=null})}}}]);