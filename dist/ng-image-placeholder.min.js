angular.module("enrichit.ng-image-utils",[]),angular.module("enrichit.ng-image-utils").directive("placeholderSpinner",["$compile",function(t){"use strict";return{scope:{loadClass:"@psLoadClass",completeClass:"@psCompleteClass",templateString:"@psTemplateString"},link:function(e,n){var i=e.loadClass||"ps-load",a=e.completeClass||"ps-complete";n.addClass(i),e.templateString&&n.parent().append(t(e.templateString)(e)),n.on("load",function(){n.addClass(a)})}}}]),angular.module("enrichit.ng-image-utils").directive("placeholderSizes",["$window",function(t){"use strict";function e(t,e,n){var i=e,a=n,l=t[0].parentElement;l&&l.offsetWidth<e&&(i=l.offsetWidth,a=l.offsetWidth/e*n),t.attr("width",i),t.attr("height",a)}var n=[];return angular.element(t).on("resize",function(){n.forEach(function(t){t instanceof Function&&t()})}),{scope:{x:"@psWidth",y:"@psHeight"},link:function(t,i){var a=parseInt(t.x),l=parseInt(t.y);e(i,a,l),n.push(function(){e(i,a,l)});var s=n.length-1;i.on("load",function(){i.removeAttr("width"),i.removeAttr("height"),n[s]=null})}}}]);