angular.module("enrichit.ng-image-utils",[]),angular.module("enrichit.ng-image-utils").directive("placeholderSizes",["$window",function(t){"use strict";function n(t,n,e){var i=n,r=e,o=t[0].parentElement;o&&o.offsetWidth<n&&(i=o.offsetWidth,r=o.offsetWidth/n*e),t.attr("width",i),t.attr("height",r)}var e=[];return angular.element(t).on("resize",function(){e.forEach(function(t){t instanceof Function&&t()})}),{scope:{x:"@psWidth",y:"@psHeight"},link:function(t,i){var r=parseInt(t.x),o=parseInt(t.y);n(i,r,o),e.push(function(){n(i,r,o)});var a=e.length-1;i.on("load",function(){i.removeAttr("width"),i.removeAttr("height"),e[a]=null})}}}]);