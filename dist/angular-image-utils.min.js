angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("iuSpinner",["$compile","$http","$templateCache",function(e,t,i){"use strict";return{restrict:"A",link:function(r,n,a){var u=n.parent();if(u){var l=a.iuLoadClass||"iu-load",o=a.iuCompleteClass||"iu-complete",c=a.iuErrorClass||"iu-error";u.addClass(l),a.iuTemplateString?u.append(e(a.iuTemplateString)(r)):a.iuTemplateUrl&&t.get(a.iuTemplateUrl,{cache:i}).success(function(t){u.append(e(t)(r))}),n.on("load",function(){u.addClass(o)}).on("error",function(){u.addClass(c),a.iuErrorReplaceString?n.replaceWith(e(a.iuErrorReplaceString)(r)):a.iuErrorReplaceUrl&&t.get(a.iuErrorReplaceUrl,{cache:i}).success(function(t){n.replaceWith(e(t)(r))})})}}}}]),angular.module("enrichit.angular-image-utils").directive("iuSizes",["$window",function(e){"use strict";function t(e,t,i){var r=t,n=i,a=e[0].parentElement;a&&a.offsetWidth<t&&(r=a.offsetWidth,n=a.offsetWidth/t*i),e.attr("width",r),e.attr("height",n)}var i=[];return angular.element(e).on("resize",function(){i.forEach(function(e){e instanceof Function&&e()})}),{restrict:"A",link:function(e,r,n){var a=parseInt(n.iuWidth),u=parseInt(n.iuHeight);t(r,a,u),i.push(function(){t(r,a,u)});var l=i.length-1;r.on("load",function(){r.removeAttr("width"),r.removeAttr("height"),i[l]=null})}}}]);