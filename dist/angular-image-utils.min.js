angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("iuSpinner",["$compile","$http","$templateCache",function(e,t,r){"use strict";return{restrict:"A",link:function(i,n,a){var u=n.parent();if(u){var l=a.iuLoadClass||"iu-load",c=a.iuCompleteClass||"iu-complete",o=a.iuErrorClass||"iu-error";u.addClass(l),a.iuTemplateString?u.append(e(a.iuTemplateString)(i)):a.iuTemplateUrl&&t.get(a.iuTemplateUrl,{cache:r}).success(function(t){u.append(e(t)(i))}),n.on("load",function(){u.addClass(c)}).on("error",function(){u.addClass(o),a.iuErrorReplaceString?n.replaceWith(e(a.iuErrorReplaceString)(i)):a.iuErrorReplaceUrl&&t.get(a.iuErrorReplaceUrl,{cache:r}).success(function(t){n.replaceWith(e(t)(i))})})}}}}]),angular.module("enrichit.angular-image-utils").directive("iuSizes",["$window",function(e){"use strict";function t(e){var t;try{t=window.getComputedStyle(e,null).getPropertyValue("width")}catch(r){t=e.currentStyle.height}return parseInt(t)}function r(e,r,i){var n=r,a=i,u=e[0].parentElement;if(u){var l=t(u);r>l&&(n=l,a=l/r*i)}e.attr("width",n),e.attr("height",a)}var i=[];return angular.element(e).on("resize",function(){i.forEach(function(e){e instanceof Function&&e()})}),{restrict:"A",link:function(e,t,n){var a=parseInt(n.iuWidth),u=parseInt(n.iuHeight);r(t,a,u),i.push(function(){r(t,a,u)});var l=i.length-1;t.on("load",function(){t.removeAttr("width"),t.removeAttr("height"),i[l]=null})}}}]);