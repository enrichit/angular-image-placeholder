angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("iuSpinner",["$compile","$http","$templateCache",function(t,e,i){"use strict";return{restrict:"A",link:function(n,r,a){var u=r.parent();if(u){var l=a.iuLoadClass||"iu-load",o=a.iuCompleteClass||"iu-complete",s=a.iuErrorClass||"iu-error";u.addClass(l),a.iuTemplateString?u.append(t(a.iuTemplateString)(n)):a.iuTemplateUrl&&e.get(a.iuTemplateUrl,{cache:i}).success(function(e){u.append(t(e)(n))}),r.on("load",function(){u.addClass(o)}).on("error",function(){u.addClass(s)})}}}}]),angular.module("enrichit.angular-image-utils").directive("iuSizes",["$window",function(t){"use strict";function e(t,e,i){var n=e,r=i,a=t[0].parentElement;a&&a.offsetWidth<e&&(n=a.offsetWidth,r=a.offsetWidth/e*i),t.attr("width",n),t.attr("height",r)}var i=[];return angular.element(t).on("resize",function(){i.forEach(function(t){t instanceof Function&&t()})}),{restrict:"A",link:function(t,n,r){var a=parseInt(r.iuWidth),u=parseInt(r.iuHeight);e(n,a,u),i.push(function(){e(n,a,u)});var l=i.length-1;n.on("load",function(){n.removeAttr("width"),n.removeAttr("height"),i[l]=null})}}}]);