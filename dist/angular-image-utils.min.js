angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("iuSpinner",["$compile","$http","$templateCache",function(t,e,i){"use strict";return{scope:{loadClass:"@iuLoadClass",completeClass:"@iuCompleteClass",templateString:"@iuTemplateString",templateUrl:"@iuTemplateUrl"},link:function(n,a){var l=n.loadClass||"iu-load",r=n.completeClass||"iu-complete";a.addClass(l),n.templateString?a.parent().append(t(n.templateString)(n)):n.templateUrl&&e.get(n.templateUrl,{cache:i}).success(function(e){a.parent().append(t(e)(n))}),a.on("load",function(){a.addClass(r)})}}}]),angular.module("enrichit.angular-image-utils").directive("iuSizes",["$window",function(t){"use strict";function e(t,e,i){var n=e,a=i,l=t[0].parentElement;l&&l.offsetWidth<e&&(n=l.offsetWidth,a=l.offsetWidth/e*i),t.attr("width",n),t.attr("height",a)}var i=[];return angular.element(t).on("resize",function(){i.forEach(function(t){t instanceof Function&&t()})}),{scope:{x:"@iuWidth",y:"@iuHeight"},link:function(t,n){var a=parseInt(t.x),l=parseInt(t.y);e(n,a,l),i.push(function(){e(n,a,l)});var r=i.length-1;n.on("load",function(){n.removeAttr("width"),n.removeAttr("height"),i[r]=null})}}}]);