angular.module("enrichit.angular-image-utils",[]),angular.module("enrichit.angular-image-utils").directive("iuSpinner",["$compile","$http","$templateCache",function(t,e,i){"use strict";return{restrict:"A",link:function(n,a,r){var u=a.parent();if(u){var l=r.iuLoadClass||"iu-load",o=r.iuCompleteClass||"iu-complete";u.addClass(l),r.iuTemplateString?u.append(t(r.iuTemplateString)(n)):r.iuTemplateUrl&&e.get(r.iuTemplateUrl,{cache:i}).success(function(e){u.append(t(e)(n))}),a.on("load",function(){u.addClass(o)})}}}}]),angular.module("enrichit.angular-image-utils").directive("iuSizes",["$window",function(t){"use strict";function e(t,e,i){var n=e,a=i,r=t[0].parentElement;r&&r.offsetWidth<e&&(n=r.offsetWidth,a=r.offsetWidth/e*i),t.attr("width",n),t.attr("height",a)}var i=[];return angular.element(t).on("resize",function(){i.forEach(function(t){t instanceof Function&&t()})}),{restrict:"A",link:function(t,n,a){var r=parseInt(a.iuWidth),u=parseInt(a.iuHeight);e(n,r,u),i.push(function(){e(n,r,u)});var l=i.length-1;n.on("load",function(){n.removeAttr("width"),n.removeAttr("height"),i[l]=null})}}}]);